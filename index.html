<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <title>Caf√© pi√±onal - Tienda con Historia</title>

    <style>
        /* === PALETA DE COLORES === */
        :root {
            --color-pastel: #E8F5E9;
            --color-oscuro: #2E7D32;
            --color-acento: #388E3C;
            --color-medio: #66BB6A;
            --color-texto-claro: #FFFFFF;
            --color-texto-oscuro: #424242;
        }

        body {
            font-family: 'Quicksand', sans-serif;
            margin: 0;
            background: var(--color-pastel) url('foto de empaque en monta√±as.jpg') no-repeat center center fixed;
            background-size: cover;
            color: var(--color-texto-oscuro);
        }

        header {
            background-color: var(--color-oscuro);
            color: white;
            padding: 20px 0;
            text-align: center;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 4px 10px rgba(0,0,0,0.3);
        }

        nav ul { list-style: none; display: flex; justify-content: center; padding: 0; margin-top: 10px; }
        nav ul li { margin: 0 15px; }
        nav ul li a { color: white; text-decoration: none; padding: 8px 12px; border-radius: 5px; transition: 0.3s; }
        nav ul li a:hover { background: rgba(255,255,255,0.2); }

        #cart-icon {
            position: absolute; top: 20px; right: 30px; font-size: 1.8em; cursor: pointer; color: white;
        }
        #cart-count {
            background: red; color: white; border-radius: 50%; padding: 2px 8px;
            font-size: 0.8em; position: absolute; top: -8px; right: -10px;
        }

        /* HERO */
        .hero {
            height: 500px;
            background: url('foto de empaque en monta√±as.jpg') center/cover no-repeat;
            display: flex; align-items: center; justify-content: center;
            text-align: center;
        }
        .hero-content {
            background: rgba(46,125,50,0.85);
            color: white;
            padding: 40px;
            border-radius: 15px;
            max-width: 80%;
        }

        .btn {
            background: var(--color-acento);
            color: white;
            padding: 12px 25px;
            border-radius: 25px;
            text-decoration: none;
            display: inline-block;
            margin: 10px;
            transition: background 0.3s;
        }
        .btn:hover { background: var(--color-medio); }

        .container {
            width: 85%;
            max-width: 1000px;
            margin: 40px auto;
            background: rgba(255,255,255,0.9);
            padding: 30px;
            border-radius: 10px;
        }

        .producto-card {
            background: white;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            padding: 25px;
            margin: 20px auto;
            max-width: 350px;
        }

        .presentaciones li {
            list-style: none;
            padding: 10px;
            border-bottom: 1px solid #E0E0E0;
            display: flex; justify-content: space-between;
        }

        footer {
            background: var(--color-oscuro);
            color: white;
            text-align: center;
            padding: 20px 0;
        }

        /* MODAL DEL CARRITO */
        .cart-modal {
            display: none;
            position: fixed;
            z-index: 999;
            left: 0; top: 0;
            width: 100%; height: 100%;
            background: rgba(0,0,0,0.6);
        }
        .modal-content {
            background: white;
            margin: 5% auto;
            padding: 25px;
            border-radius: 10px;
            width: 90%;
            max-width: 450px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
        }
        .close-btn {
            float: right;
            font-size: 30px;
            cursor: pointer;
        }
        #cart-items li {
            list-style: none;
            padding: 10px 0;
            border-bottom: 1px solid #E0E0E0;
            display: flex; justify-content: space-between;
        }
        .btn-pago {
            background-color: var(--color-oscuro);
            color: white;
            font-weight: bold;
            border-radius: 8px;
            padding: 12px;
            width: 100%;
            cursor: pointer;
        }
    </style>
</head>

<body>
    <header>
        <h1>Caf√© Pi√±onal</h1>
        <p>Tu dosis diaria de felicidad</p>
        <nav>
            <ul>
                <li><a href="#" onclick="showHistorySection()">Inicio / Historia</a></li>
                <li><a href="#" onclick="showProductSection()">Productos</a></li>
                <li><a href="#" onclick="toggleCartModal()">Comprar</a></li>
            </ul>
        </nav>
        <div id="cart-icon" onclick="toggleCartModal()">üõí<span id="cart-count">0</span></div>
    </header>

    <section class="hero">
        <div class="hero-content">
            <h2>Caf√© Pi√±onal: Sabor de la Tierra</h2>
            <p>Desde nuestras monta√±as hasta tu taza, con amor y tradici√≥n.</p>
            <a href="#" class="btn" onclick="showProductSection()">üõçÔ∏è Ver Productos</a>
            <a href="#" class="btn" onclick="showHistorySection()">üìú Nuestra Historia</a>
        </div>
    </section>

    <div class="container" id="history-section-container">
        <h2>‚òï Historia e Inspiraci√≥n</h2>
        <p>
            Caf√© Pi√±onal naci√≥ en la vereda El Pi√±onal, entre monta√±as y cafetales que han sido testigos del esfuerzo familiar.
            Nuestro caf√© refleja los valores heredados de nuestros abuelos: el amor por la tierra, la honestidad y la uni√≥n familiar.
        </p>
    </div>

    <div class="container" id="product-section-container" style="display:none;">
        <h2>Nuestro Caf√©</h2>
        <div class="producto-card">
            <img src="empaquepresentacion.png" alt="Caf√© Pi√±onal">
            <h3>Caf√© Premium</h3>
            <ul class="presentaciones">
                <li>
                    <span>250g</span> <span>$24.000</span>
                    <button class="btn" onclick="addToCart('Caf√© Premium (250g)', 24000)">A√±adir</button>
                </li>
                <li>
                    <span>500g</span> <span>$48.000</span>
                    <button class="btn" onclick="addToCart('Caf√© Premium (500g)', 48000)">A√±adir</button>
                </li>
            </ul>
        </div>
    </div>

    <footer>
        <p>&copy; 2025 Caf√© Pi√±onal. Todos los derechos reservados.</p>
    </footer>

    <!-- MODAL DEL CARRITO -->
    <div id="cart-modal" class="cart-modal">
        <div class="modal-content">
            <span class="close-btn" onclick="toggleCartModal()">&times;</span>
            <h3>üõçÔ∏è Tu Carrito</h3>
            <ul id="cart-items"></ul>
            <p id="cart-total">Total: $0</p>
            <button class="btn-pago" id="pago-btn" style="display:none;" onclick="goToDirectLink()">Pagar con Wompi</button>
        </div>
    </div>

    <script>
        const DIRECT_PAYMENT_LINK = "https://checkout.nequi.wompi.co/l/uH6JaT";
        let cart = [];
        let currentTotal = 0;

        function showHistorySection() {
            document.getElementById('product-section-container').style.display = 'none';
            document.getElementById('history-section-container').style.display = 'block';
        }

        function showProductSection() {
            document.getElementById('product-section-container').style.display = 'block';
            document.getElementById('history-section-container').style.display = 'none';
        }

        function toggleCartModal() {
            const modal = document.getElementById('cart-modal');
            modal.style.display = (modal.style.display === 'block') ? 'none' : 'block';
        }

        function addToCart(name, price) {
            const existingItem = cart.find(i => i.name === name);
            if (existingItem) {
                existingItem.quantity++;
            } else {
                cart.push({ name, price, quantity: 1 });
            }
            updateCartDisplay();
        }

        function changeQuantity(name, change) {
            const item = cart.find(i => i.name === name);
            if (item) {
                item.quantity += change;
                if (item.quantity <= 0) cart = cart.filter(i => i.name !== name);
            }
            updateCartDisplay();
        }

        function updateCartDisplay() {
            const itemsContainer = document.getElementById('cart-items');
            const totalElement = document.getElementById('cart-total');
            const count = document.getElementById('cart-count');
            const pagoBtn = document.getElementById('pago-btn');

            itemsContainer.innerHTML = '';
            let total = 0;
            let countTotal = 0;

            cart.forEach(item => {
                const subtotal = item.price * item.quantity;
                total += subtotal;
                countTotal += item.quantity;
                const li = document.createElement('li');
                li.innerHTML = `
                    <div>${item.name}</div>
                    <div>
                        <button onclick="changeQuantity('${item.name}', -1)">-</button>
                        ${item.quantity}
                        <button onclick="changeQuantity('${item.name}', 1)">+</button>
                        $${subtotal.toLocaleString('es-CO')}
                    </div>
                `;
                itemsContainer.appendChild(li);
            });

            totalElement.textContent = `Total: $${total.toLocaleString('es-CO')}`;
            count.textContent = countTotal;
            pagoBtn.style.display = total > 0 ? 'block' : 'none';
        }

        function goToDirectLink() {
            window.open(DIRECT_PAYMENT_LINK, "_blank");
        }

        window.onclick = function(event) {
            const modal = document.getElementById('cart-modal');
            if (event.target === modal) modal.style.display = 'none';
        }
    </script>
</body>
</html>
