<!doctype html>
<html lang=es>
<meta charset=UTF-8>
<meta content="width=device-width,initial-scale=1" name=viewport>
<meta content="Caf√© Pi√±onal: Caf√© especial colombiano de la finca El mirador en Antioquia. Descubre notas de chocolate, caramelo y un puntaje SCA de 84.5. ¬°Sabor de la Tierra a tu taza!" name=description>
<meta content="caf√© pi√±onal, caf√© especial, caf√© colombiano, finca El mirador, antioquia, notas de cata caf√©, comprar caf√©" name=keywords>
<link href=https://jhonalexiscastillou.github.io/Cafe-Pinonal/ rel=canonical>
<link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300;500;700&display=swap" rel=stylesheet>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;900&display=swap" rel=stylesheet>
<link href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css rel=stylesheet>
<title>Caf√© pi√±onal - Tienda con Historia</title>
<style>
    :root {
        --color-pastel: #E8F5E9;
        --color-oscuro: #2E7D32;
        --color-acento: #388E3C;
        --color-medio: #66BB6A;
        --color-texto-claro: #FFFFFF;
        --color-texto-oscuro: #424242
    }

    body {
        font-family: Quicksand, sans-serif;
        margin: 0;
        padding: 0;
        color: var(--color-texto-oscuro);
        background: var(--color-pastel) url('foto de empaque en monta√±as.png') no-repeat center center fixed;
        background-size: cover
    }

    .hero-content h2,
    h1,
    h2,
    h3 {
        font-family: 'Playfair Display', serif
    }

    header {
        background-color: var(--color-oscuro);
        color: var(--color-texto-claro);
        padding: 20px 0;
        text-align: center;
        position: sticky;
        top: 0;
        z-index: 100;
        box-shadow: 0 4px 10px rgba(0, 0, 0, .25)
    }

    header h1 {
        margin: 0;
        font-size: 2.5em;
        font-weight: 900
    }

    header p {
        margin: 5px 0 0;
        font-weight: 500
    }

    nav ul {
        list-style: none;
        padding: 0;
        margin-top: 15px;
        display: flex;
        justify-content: center
    }

    nav ul li {
        margin: 0 20px
    }

    nav ul li a {
        color: var(--color-texto-claro);
        text-decoration: none;
        font-weight: 500;
        transition: color .3s, background-color .3s, border-bottom .3s;
        padding: 5px 10px;
        border-radius: 5px
    }

    nav ul li a:hover {
        color: var(--color-texto-claro);
        background-color: rgba(255, 255, 255, .15);
        border-bottom: 2px solid var(--color-medio)
    }

    #top-banner {
        width: 100%;
        text-align: center;
        padding: 20px 0;
        background-color: rgba(232, 245, 233, .9);
        box-shadow: 0 2px 5px rgba(0, 0, 0, .1)
    }

    #top-banner img {
        max-width: 150px;
        height: auto;
        border-radius: 50%;
        border: 4px solid var(--color-acento);
        object-fit: cover;
        transition: transform .3s
    }

    #top-banner img:hover {
        transform: scale(1.05)
    }

    .hero {
        background-color: #388e3c;
        height: 500px;
        display: flex;
        justify-content: center;
        align-items: center;
        text-align: center;
        color: var(--color-texto-claro);
        position: relative;
        background-image: url(cafe-portada.png);
        background-size: cover;
        background-position: center 30%;
        background-repeat: no-repeat
    }

    .hero-content {
        background-color: rgba(46, 125, 50, .8);
        padding: 40px 50px;
        border-radius: 12px;
        box-shadow: 0 0 25px rgba(0, 0, 0, .6);
        max-width: 80%
    }

    .hero-content h2 {
        font-size: 2.8em;
        margin-bottom: 10px;
        font-weight: 900
    }

    .hero-content p {
        font-size: 1.2em;
        margin-top: 0;
        font-weight: 500
    }

    .btn {
        background-color: var(--color-acento);
        color: var(--color-texto-claro);
        padding: 12px 25px;
        text-decoration: none;
        border-radius: 25px;
        font-weight: 700;
        transition: background-color .3s, border-color .3s;
        display: inline-block;
        margin: 10px;
        cursor: pointer;
        border: none
    }

    .btn:hover {
        background-color: var(--color-medio)
    }

    .btn-history {
        background-color: transparent !important;
        border: 2px solid #fff !important
    }

    .btn-history:hover {
        background-color: rgba(255, 255, 255, .1) !important;
        border-color: var(--color-medio) !important
    }

    .container {
        width: 85%;
        max-width: 1100px;
        margin: 40px auto;
        padding: 30px;
        background-color: rgba(255, 255, 255, .85);
        box-shadow: 0 0 15px rgba(0, 0, 0, .08);
        border-radius: 12px
    }

    .section-divider {
        width: 100px;
        height: 4px;
        background-color: var(--color-medio);
        margin: 15px auto 40px auto;
        border-radius: 2px
    }

    .producto-card {
        background-color: var(--color-texto-claro);
        margin: 20px auto;
        max-width: 350px;
        border-radius: 10px;
        box-shadow: 0 6px 12px rgba(0, 0, 0, .1);
        padding: 25px;
        border: 1px solid #e0e0e0;
        text-align: center;
        transition: transform .3s
    }

    .producto-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 20px rgba(0, 0, 0, .15)
    }

    .producto-card img {
        max-width: 180px;
        height: auto;
        border-radius: 6px;
        margin: 0 auto 20px auto;
        display: block;
        border: 3px solid var(--color-pastel)
    }

    .presentaciones li {
        list-style: none;
        padding: 10px 0;
        border-bottom: 1px solid var(--color-pastel);
        display: flex;
        justify-content: space-between;
        align-items: center
    }

    .presentaciones li:last-child {
        border-bottom: none
    }

    .peso {
        font-weight: 500;
        color: var(--color-oscuro)
    }

    .precio {
        font-size: 1.2em;
        font-weight: 700;
        color: var(--color-acento)
    }

    .history-section h2 {
        color: var(--color-oscuro);
        font-weight: 900;
        margin-bottom: 40px
    }

    .history-block {
        border-left: 5px solid var(--color-medio);
        background-color: rgba(241, 248, 233, .8);
        padding-left: 20px;
        padding: 25px;
        border-radius: 10px;
        display: flex;
        align-items: flex-start;
        box-shadow: 0 2px 5px rgba(0, 0, 0, .05);
        margin-bottom: 30px
    }

    .history-block h3 {
        color: var(--color-oscuro);
        margin-top: 0;
        font-size: 1.6em;
        border-bottom: 2px dashed var(--color-medio);
        padding-bottom: 8px;
        font-weight: 700
    }

    .history-block p {
        font-size: 1.1em;
        line-height: 1.7;
        margin-bottom: 0;
        font-weight: 500
    }

    .history-image-container {
        flex-shrink: 0;
        margin-right: 30px;
        max-width: 300px;
        text-align: center
    }

    .history-image-container img {
        width: 100%;
        height: auto;
        border-radius: 10px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, .1)
    }

    .history-text-container {
        flex-grow: 1
    }

    @media (max-width:768px) {
        .history-block {
            flex-direction: column;
            align-items: center;
            text-align: center
        }

        .history-image-container {
            margin-right: 0;
            margin-bottom: 20px
        }
    }

    .tasting-notes-section h2 {
        color: var(--color-oscuro);
        font-weight: 900;
        margin-bottom: 40px;
        text-align: center
    }

    .notes-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 25px;
        margin-top: 30px
    }

    .note-card {
        background-color: var(--color-texto-claro);
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, .1);
        border: 1px solid var(--color-pastel);
        text-align: center;
        transition: transform .3s
    }

    .note-card:hover {
        transform: translateY(-3px);
        box-shadow: 0 6px 15px rgba(0, 0, 0, .15)
    }

    .note-card i {
        font-size: 2.5em;
        color: var(--color-acento);
        margin-bottom: 10px
    }

    .note-card h4 {
        font-family: 'Playfair Display', serif;
        font-size: 1.3em;
        color: var(--color-oscuro);
        margin-top: 5px;
        margin-bottom: 10px;
        font-weight: 700
    }

    .note-card p {
        font-size: 1em;
        color: var(--color-texto-oscuro);
        margin: 0;
        font-weight: 500
    }

    #cart-icon {
        position: absolute;
        top: 25px;
        right: 50px;
        font-size: 1.8em;
        cursor: pointer;
        color: var(--color-texto-claro);
        z-index: 500;
        transition: transform .2s
    }

    @keyframes bounce {
        0%,
        100% {
            transform: scale(1)
        }

        50% {
            transform: scale(1.2)
        }
    }

    #cart-icon.cart-bounce {
        animation: bounce .4s ease-in-out
    }

    footer {
        background-color: var(--color-oscuro);
        color: var(--color-texto-claro);
        padding: 20px 0;
        text-align: center;
        font-size: 1em;
        margin-top: 0
    }

    .social-links {
        position: fixed;
        bottom: 20px;
        right: 20px;
        z-index: 900;
        display: flex;
        flex-direction: column;
        gap: 15px
    }

    .social-icon {
        display: block;
        width: 50px;
        height: 50px;
        text-align: center;
        line-height: 50px;
        border-radius: 50%;
        font-size: 1.8em;
        box-shadow: 0 4px 10px rgba(0, 0, 0, .3);
        transition: transform .3s, box-shadow .3s;
        color: #fff
    }

    .social-icon:hover {
        transform: scale(1.1);
        box-shadow: 0 6px 15px rgba(0, 0, 0, .4)
    }

    .social-icon.whatsapp {
        background-color: #25d366
    }

    .social-icon.instagram {
        background: radial-gradient(circle at 30% 107%, #fdf497 0, #fdf497 5%, #fd5949 45%, #d6249f 60%, #285aeb 90%)
    }

    .social-icon.facebook {
        background-color: #1877f2
    }

    .hidden-initial {
        display: none
    }

    #cart-count {
        background-color: #d32f2f;
        color: #fff;
        border-radius: 50%;
        padding: 4px 8px;
        font-size: .8em;
        position: absolute;
        top: -8px;
        right: -8px
    }

    .cart-modal {
        display: none;
        position: fixed;
        z-index: 1000;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        overflow: auto;
        background-color: rgba(0, 0, 0, .6)
    }

    .modal-content {
        background-color: #fefefe;
        margin: 5% auto;
        padding: 25px;
        border: none;
        width: 90%;
        max-width: 450px;
        border-radius: 10px;
        box-shadow: 0 5px 20px rgba(0, 0, 0, .3)
    }

    .close-btn {
        color: #888;
        float: right;
        font-size: 32px;
        font-weight: 500;
        cursor: pointer
    }

    #cart-items li {
        list-style: none;
        padding: 12px 0;
        border-bottom: 1px solid #e0e0e0;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 1.1em;
        font-weight: 500
    }

    .item-controls {
        display: flex;
        align-items: center
    }

    .qty-btn {
        background-color: var(--color-pastel);
        border: 1px solid #cfd8dc;
        padding: 5px 10px;
        cursor: pointer;
        font-size: 1em;
        margin: 0 5px;
        border-radius: 5px
    }

    .qty-display {
        width: 20px;
        text-align: center;
        font-weight: 700
    }

    #cart-total {
        font-size: 1.4em;
        font-weight: 700;
        margin-top: 20px;
        text-align: right;
        color: var(--color-oscuro)
    }

    .btn-pago {
        background-color: var(--color-oscuro) !important;
        color: #fff !important;
        font-weight: 700 !important;
        border-radius: 10px !important
    }

    .btn-pago:hover {
        background-color: var(--color-acento) !important
    }
</style>
<header>
    <h1>Caf√© pi√±onal</h1>
    <p>Tu dosis diaria de felicidad
        <nav>
            <ul>
                <li><a href=# onclick="return showHistorySection(),!1">Inicio / Historia</a>
                <li><a href=# onclick="return showTastingNotesSection(),!1">Notas de Cata</a>
                <li><a href=# onclick="return showProductSection(),!1">Productos</a>
                <li><a href=# onclick="return toggleCartModal(),!1">Comprar</a>
            </ul>
        </nav>
        <div id=cart-icon onclick=toggleCartModal()>üõí <span id=cart-count>0</span></div>
</header>
<section id=top-banner><img alt="Foto personal del productor o propietario" src="foto de taza de cafe .png"></section>
<section id=top-banner><img alt="Foto personal del productor o propietario" src="foto con miel.png"></section>
<section id=hero-banner class=hero>
    <div class=hero-content>
        <h2 style=font-weight:900>Caf√© Pi√±onal: Sabor de la Tierra.</h2>
        <p>Descubre el origen y la pasi√≥n detr√°s de cada grano, de nuestra finca a tu taza.</p><a href=#notas-cata onclick=showTastingNotesSection() class=btn>üî¨ Notas de Cata</a> <a href=#productos onclick=showProductSection() class="btn btn-history">üõçÔ∏è Ver Productos</a>
    </div>
</section>
<div class=container id=history-section-container style=display:none>
    <section id=historia class=history-section>
        <h2 style=text-align:center;width:100%>‚òï Identidad, Origen e Inspiraci√≥n</h2>
        <div class=history-block>
            <div class=history-image-container><img alt="Foto del empaque en las monta√±as" src="foto de empaque en monta√±as.png"></div>
            <div class=history-text-container>
                <h3>Nuestra Historia e Inspiraci√≥n</h3>
                <p>Nuestra historia nace en la vereda El Pi√±onal, entre monta√±as, cafetales y el esfuerzo de una familia campesina que aprendi√≥ a amar la tierra. Desde nuestros abuelos heredamos los valores que hoy nos representan: la uni√≥n familiar, la honestidad, el trabajo constante y el respeto por el campo. Durante a√±os, sembramos y cosechamos caf√© con las manos, cuidando cada planta como parte de nuestra vida. Hoy, ese legado se transforma en una nueva etapa: compartir con el mundo el fruto de nuestra finca, El mirador, en una presentaci√≥n elegante que conserva el sabor aut√©ntico del campo colombiano. Cada taza cuenta una historia de perseverancia, de amor por lo que se hace y del orgullo de ser campesinos que, a pesar de las dificultades, siguen firmes con sus ra√≠ces y el coraz√≥n puesto en la tierra.<br><br>Aroma & Sabor es m√°s que una marca: es la esencia de nuestra tierra, el reflejo de una vida dedicada al campo y el deseo de que, en cada taza, sientas el mismo amor con el que lo cultivamos.
            </div>
        </div>
        <div class=history-block>
            <div class=history-image-container><img alt="Vista de la finca El mirador" src="foto del perro.png"></div>
            <div class=history-text-container>
                <h3>Origen: Finca y Vereda</h3>
                <p>Donde es recolectado: Antioquia suroeste<br>Nombre de la Finca: El mirador<br>Vereda: La historia de nuestro caf√© nace entre monta√±as, bajo el esfuerzo y el coraz√≥n de una familia campesina de la vereda El Pi√±onal. Nuestros abuelos sembraron m√°s que caf√©: sembraron valores, amor por la tierra y el ejemplo de que la uni√≥n familiar puede resistir cualquier adversidad.<br><br>Entre monta√±as verdes a 1800 msnm, aire puro y caminos de tierra nace la Finca El mirador, en la vereda El Pi√±onal. Un lugar donde el sol abraza los cafetales y el canto de los p√°jaros acompa√±a las jornadas de trabajo. Aqu√≠, la tierra f√©rtil y el clima generoso se unen para dar vida a granos √∫nicos, cultivados con dedicaci√≥n y respeto por la naturaleza.
            </div>
        </div>
        <div class=history-block>
            <div class=history-image-container><img alt="Foto de la recolecci√≥n manual del caf√©" src="fotodel granos.png"></div>
            <div class=history-text-container>
                <h3>Recolecci√≥n y Cuidado</h3>
                <p>La recolecci√≥n del caf√© es un ritual de paciencia y cari√±o. Cada grano maduro se elige a mano, uno a uno, por quienes conocen el lenguaje de la tierra. Despu√©s, con esmero y cuidado, el fruto se despulpa, se seca y se transforma en una experiencia que despierta los sentidos. Todo este proceso es un homenaje a la labor campesina, a los abuelos que ense√±aron el valor del trabajo bien hecho y al orgullo de ver el fruto de nuestra tierra convertido en una presentaci√≥n elegante y en un sabor inigualable.<br>Nuestro caf√© se recolecta de forma manual, eligiendo solo las cerezas maduras. Pasan por un proceso de despulpado y lavado tradicional, y se secan al sol para conservar su esencia. Cada lote es seleccionado cuidadosamente antes del tueste artesanal, garantizando que cada taza refleje el trabajo, el amor y la dedicaci√≥n que nacen en nuestra finca.
            </div>
        </div>
    </section>
</div>
<div class=container id=tasting-notes-section-container style=display:none>
    <section id=notas-cata class=tasting-notes-section>
        <h2 style=width:100%>üî¨ Descubre el Perfil de Sabor</h2>
        <p style=text-align:center>Nuestro caf√© Pi√±onal es un balance perfecto entre dulzura y acidez, con un tueste medio que resalta sus mejores atributos.
            <div class=section-divider></div>
            <div class=notes-grid>
                <div class=note-card><i class="fas fa-smell"></i>
                    <h4>Aroma</h4>
                    <p>Fragancia intensa a panela reci√©n hecha, chocolate oscuro y frutos secos.
                </div>
                <div class=note-card><i class="fas fa-hand-holding-water"></i>
                    <h4>Cuerpo</h4>
                    <p>Medio-alto, suave y sedoso en boca, con una textura redonda y placentera.
                </div>
                <div class=note-card><i class="fas fa-lemon"></i>
                    <h4>Acidez</h4>
                    <p>Media, brillante y c√≠trica, que aporta frescura y viveza a la taza.
                </div>
                <div class=note-card><i class="fas fa-chocolate"></i>
                    <h4>Sabor Principal</h4>
                    <p>Notas predominantes de chocolate de leche, caramelo y un ligero toque a nuez.
                </div>
                <div class=note-card><i class="fas fa-hourglass-end"></i>
                    <h4>Retrogusto</h4>
                    <p>Final persistente y dulce, con recuerdos a miel y un cacao residual muy agradable.
                </div>
                <div class=note-card><i class="fas fa-sort-amount-up"></i>
                    <h4>Puntuaci√≥n SCA</h4>
                    <p>84.5 puntos. Calificaci√≥n de caf√© especial.
                </div>
            </div>
    </section>
</div>
<div class=container id=product-section-container style=display:none>
    <section id=productos class=productos>
        <h2 style=text-align:center;color:var(--color-oscuro);font-weight:900>Nuestro Caf√© Especial</h2>
        <p style=text-align:center>Granos de la m√°s alta calidad, tostados a la perfecci√≥n para un sabor inigualable.
            <div class=section-divider></div>
            <div class=producto-card><img alt="Caf√© Premium Caf√© pi√±onal" src=empaquepresentacion.png>
                <h3>Caf√© Premium "Caf√© pi√±onal"</h3>
                <p>Descubre las notas intensas de chocolate y caramelo, con un toque c√≠trico y un final persistente.
                    <ul class=presentaciones>
                        <li><span class=peso>250 gramos</span> <span class=precio>$24.000</span> <button class="btn btn-pequeno" onclick='addToCart("Caf√© Premium (250g)",24e3),toggleCartModal()'>A√±adir</button>
                        <li><span class=peso>500 gramos</span> <span class=precio>$48.000</span> <button class="btn btn-pequeno" onclick='addToCart("Caf√© Premium (500g)",48e3),toggleCartModal()'>A√±adir</button>
                    </ul>
            </div>
    </section>
</div>
<footer id=contacto>
    <p>¬© 2025 Caf√© pi√±onal. Todos los derechos reservados.
</footer>
<div class=cart-modal id=cart-modal>
    <div class=modal-content><span class=close-btn onclick=toggleCartModal()>√ó</span>
        <h3>üõçÔ∏è Tu Carrito de Compras</h3>
        <ul id=cart-items></ul>
        <p id=cart-total>Total: $0
            <div class=hidden-initial id=payment-button-container><button class="btn btn-pago" onclick=goToDirectLink() style=width:100%;font-size:1.1em>Hacer Pedido por WhatsApp</button></div>
    </div>
</div>
<div class=social-links><a href=https://wa.me/573175813074 class="social-icon whatsapp" target=_blank title="Escr√≠benos por WhatsApp"><i class="fab fa-whatsapp"></i> </a><a href=https://www.alexis class="social-icon instagram" target=_blank title="S√≠guenos en Instagram"><i class="fab fa-instagram"></i> </a><a href=https://www.facebook.com/https://"www.facebook.com/share/1CTzSonini/?mibextid=wwXIfr" class="social-icon facebook" target=_blank title="Vis√≠tanos en Facebook"><i class="fab fa-facebook-f"></i></a></div>
<script>
    const DIRECT_PAYMENT_LINK = "https://checkout.nequi.wompi.co/l/uH6JaT";
    const WHATSAPP_NUMBER = "573001234567"; // Tu n√∫mero de WhatsApp para pedidos

    let cart = [];
    let currentTotal = 0;

    function changeQuantity(name, change) {
        const itemIndex = cart.findIndex(item => item.name === name);
        if (itemIndex !== -1) {
            cart[itemIndex].quantity += change;
            if (cart[itemIndex].quantity <= 0) {
                cart.splice(itemIndex, 1);
            }
        }
        updateCartDisplay();
    }

    function addToCart(name, price) {
        const existingItem = cart.find(item => item.name === name);
        if (existingItem) {
            existingItem.quantity += 1;
        } else {
            cart.push({
                name: name,
                price: price,
                quantity: 1
            });
        }

        // Efecto de rebote del carrito
        const cartIcon = document.getElementById('cart-icon');
        cartIcon.classList.add('cart-bounce');
        setTimeout(() => {
            cartIcon.classList.remove('cart-bounce');
        }, 400);

        updateCartDisplay();
    }

    function updateCartDisplay() {
        const cartItemsContainer = document.getElementById('cart-items');
        const cartCount = document.getElementById('cart-count');
        const cartTotalElement = document.getElementById('cart-total');
        const paymentButtonContainer = document.getElementById('payment-button-container');

        currentTotal = 0;
        let totalItems = 0;
        cartItemsContainer.innerHTML = '';

        cart.forEach(item => {
            const itemTotal = item.price * item.quantity;
            currentTotal += itemTotal;
            totalItems += item.quantity;
            const formattedItemPrice = item.price.toLocaleString('es-CO');
            const formattedTotal = itemTotal.toLocaleString('es-CO');

            const listItem = document.createElement('li');
            listItem.innerHTML = `
					<div>${item.name} <br><small>$${formattedItemPrice} c/u</small></div>
					<div class="item-controls">
						<button class="qty-btn" onclick="changeQuantity('${item.name}', -1)">-</button>
						<span class="qty-display">${item.quantity}</span>
						<button class="qty-btn" onclick="changeQuantity('${item.name}', 1)">+</button>
						<span style="margin-left: 15px; font-weight: bold;">$${formattedTotal}</span>
					</div>
				`;
            cartItemsContainer.appendChild(listItem);
        });

        const finalFormattedTotal = currentTotal.toLocaleString('es-CO');
        cartCount.textContent = totalItems;

        if (currentTotal > 0) {
            paymentButtonContainer.style.display = 'block';
            cartTotalElement.textContent = `Total: $${finalFormattedTotal}`;
        } else {
            paymentButtonContainer.style.display = 'none';
            cartTotalElement.textContent = `Carrito vac√≠o`;
        }
    }

    function goToDirectLink() {
        if (currentTotal === 0) {
            alert("Tu carrito est√° vac√≠o. ¬°A√±ade caf√© para ordenar!");
            return;
        }
        if (!WHATSAPP_NUMBER) {
            alert("‚ö†Ô∏è ERROR DE CONFIGURACI√ìN: No se ha configurado el n√∫mero de WhatsApp.");
            return;
        }

        // 1. Generar el mensaje de WhatsApp con los detalles del pedido
        let orderDetails = "¬°Hola! Quiero hacer un pedido de Caf√© Pi√±onal:\n\n";
        cart.forEach(item => {
            orderDetails += `- ${item.quantity}x ${item.name} ($${(item.price * item.quantity).toLocaleString('es-CO')})\n`;
        });

        const finalFormattedTotal = currentTotal.toLocaleString('es-CO');
        orderDetails += `\n*TOTAL: $${finalFormattedTotal}*\n\n`;
        orderDetails += "Por favor, conf√≠rmame el total y los detalles de env√≠o.";

        const whatsappUrl = `https://wa.me/${WHATSAPP_NUMBER}?text=${encodeURIComponent(orderDetails)}`;

        // 2. Abrir la ventana de WhatsApp para enviar el pedido
        window.open(whatsappUrl, '_blank');
        
        // 3. Informar al usuario
        alert("¬°Pedido iniciado! Hemos pre-llenado tu orden en WhatsApp. Por favor, env√≠anos el mensaje para confirmar los detalles y el pago.");

        // 4. Vaciar carrito despu√©s de iniciar el proceso de pedido
        cart = [];
        updateCartDisplay();
        showHistorySection();
        toggleCartModal(); // Cierra el modal despu√©s de iniciar el proceso
    }

    function hideAllSections() {
        document.getElementById('product-section-container').style.display = 'none';
        document.getElementById('history-section-container').style.display = 'none';
        document.getElementById('tasting-notes-section-container').style.display = 'none';
        document.getElementById('hero-banner').style.display = 'none';
    }

    function showHistorySection() {
        hideAllSections();
        document.getElementById('hero-banner').style.display = 'flex';
        document.getElementById('history-section-container').style.display = 'block';
        document.getElementById('hero-banner').scrollIntoView({
            behavior: 'smooth'
        });
    }

    function showTastingNotesSection() {
        hideAllSections();
        document.getElementById('hero-banner').style.display = 'flex';
        document.getElementById('tasting-notes-section-container').style.display = 'block';
        document.getElementById('hero-banner').scrollIntoView({
            behavior: 'smooth'
        });
    }

    function showProductSection() {
        hideAllSections();
        document.getElementById('hero-banner').style.display = 'flex';
        document.getElementById('product-section-container').style.display = 'block';
        document.getElementById('hero-banner').scrollIntoView({
            behavior: 'smooth'
        });
    }

    function toggleCartModal() {
        const modal = document.getElementById('cart-modal');
        if (modal.style.display === "block") {
            modal.style.display = "none";
        } else {
            modal.style.display = "block";
            updateCartDisplay();
        }
    }

    window.onclick = function(event) {
        const modal = document.getElementById('cart-modal');
        if (event.target === modal) {
            modal.style.display = "none";
        }
    }

    // Inicializar la p√°gina mostrando la historia
    document.addEventListener('DOMContentLoaded', () => {
        showHistorySection();
        document.getElementById('payment-button-container').style.display = 'none';
        document.getElementById('cart-total').textContent = `Carrito vac√≠o`;
    });
</script>
<script type=application/ld+json>
    {
        "@context": "http://schema.org",
        "@type": "LocalBusiness",
        "name": "Caf√© Pi√±onal",
        "description": "Caf√© especial colombiano 84.5 SCA de la Finca El mirador, Antioquia. Sabor de la tierra a tu taza.",
        "url": "https://jhonalexiscastillou.github.io/Cafe-Pinonal/",
        "image": "https://jhonalexiscastillou.github.io/Cafe-Pinonal/empaquepresentacion.png",
        "priceRange": "$$",
        "address": {
            "@type": "PostalAddress",
            "addressLocality": "Antioquia Suroeste",
            "addressRegion": "Antioquia",
            "addressCountry": "CO"
        },
        "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "4.9",
            "reviewCount": "25"
        },
        "brand": {
            "@type": "Brand",
            "name": "Caf√© Pi√±onal"
        }
    }
</script>

</html>